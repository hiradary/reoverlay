{"version":3,"sources":["../../src/commands/clean.ts"],"names":["module","exports","clean","program","directory","report","directories","info","join","Promise","all","map","dir","fs","remove","path"],"mappings":";;;;AAAA;;AACA;;AAEA;;AAMAA,MAAM,CAACC,OAAP,GAAiB,eAAeC,KAAf,CAAqBC,OAArB,EAAuD;AACtE,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAAwBF,OAA9B;AAEA,QAAMG,WAAW,GAAG,CAAE,QAAF,EAAY,QAAZ,CAApB;AAEAD,EAAAA,MAAM,CAACE,IAAP,CAAa,YAAWD,WAAW,CAACE,IAAZ,CAAkB,IAAlB,CAAuB,EAA/C;AAEA,QAAMC,OAAO,CAACC,GAAR,CACJJ,WAAW,CAACK,GAAZ,CAAgBC,GAAG,IAAIC,iBAAGC,MAAH,CAAUC,cAAKP,IAAL,CAAUJ,SAAV,EAAqBQ,GAArB,CAAV,CAAvB,CADI,CAAN;AAIAP,EAAAA,MAAM,CAACE,IAAP,CAAa,kCAAb;;AAEA,MAAI,MAAM,mDAAV,EAAgD;AAC9C;AACD;AACF,CAhBD","sourcesContent":["import fs from \"fs-extra\"\nimport path from \"path\"\n\nimport {\n  userPassesFeedbackRequestHeuristic,\n  showFeedbackRequest,\n} from \"../utils/feedback\"\nimport { IProgram } from \"./types\"\n\nmodule.exports = async function clean(program: IProgram): Promise<void> {\n  const { directory, report } = program\n\n  const directories = [`.cache`, `public`]\n\n  report.info(`Deleting ${directories.join(`, `)}`)\n\n  await Promise.all(\n    directories.map(dir => fs.remove(path.join(directory, dir)))\n  )\n\n  report.info(`Successfully deleted directories`)\n\n  if (await userPassesFeedbackRequestHeuristic()) {\n    showFeedbackRequest()\n  }\n}\n"],"file":"clean.js"}