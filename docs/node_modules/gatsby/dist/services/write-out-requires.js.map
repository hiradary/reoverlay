{"version":3,"sources":["../../src/services/write-out-requires.ts"],"names":["writeOutRequires","store","parentSpan","reporter","panic","activity","activityTimer","start","getState","err","end"],"mappings":";;;;;;;AACA;;AACA;;AAEO,eAAeA,gBAAf,CAAgC;AACrCC,EAAAA,KADqC;AAErCC,EAAAA;AAFqC,CAAhC,EAGmC;AACxC,MAAI,CAACD,KAAL,EAAY;AACVE,sBAASC,KAAT,CAAgB,gBAAhB;AACD,GAHuC,CAIxC;;;AACA,QAAMC,QAAQ,GAAGF,kBAASG,aAAT,CAAwB,oBAAxB,EAA6C;AAC5DJ,IAAAA;AAD4D,GAA7C,CAAjB;;AAGAG,EAAAA,QAAQ,CAACE,KAAT;;AACA,MAAI;AACF,UAAM,8BAASN,KAAK,CAACO,QAAN,EAAT,CAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZN,sBAASC,KAAT,CAAgB,8BAAhB,EAA+CK,GAA/C;AACD;;AACDJ,EAAAA,QAAQ,CAACK,GAAT;AACD","sourcesContent":["import { IBuildContext } from \"./\"\nimport reporter from \"gatsby-cli/lib/reporter\"\nimport { writeAll } from \"../bootstrap/requires-writer\"\n\nexport async function writeOutRequires({\n  store,\n  parentSpan,\n}: Partial<IBuildContext>): Promise<void> {\n  if (!store) {\n    reporter.panic(`No redux store`)\n  }\n  // Write out files.\n  const activity = reporter.activityTimer(`write out requires`, {\n    parentSpan,\n  })\n  activity.start()\n  try {\n    await writeAll(store.getState())\n  } catch (err) {\n    reporter.panic(`Failed to write out requires`, err)\n  }\n  activity.end()\n}\n"],"file":"write-out-requires.js"}